
<ph-topbar style="grid-row: 1; grid-column: 2;">
    <ph-topbar-header [title]="view()" [subtitle]="tab()"></ph-topbar-header>
    @if (this.view() == 'TACOP') {
        <ph-topbar-item [label]="'MAP'" [class.active]="tab() === 'MAP'" (click)="this.navigate('maptool/map')"></ph-topbar-item>
        <ph-topbar-item [label]="'SQUAD'" [class.active]="tab() === 'SQUAD'" (click)="this.navigate('maptool/squad')"></ph-topbar-item>
    }
    @if (this.view() == 'ADMIN') {
        <ph-topbar-item [label]="'USER'" [class.active]="tab() === 'USER'" (click)="this.navigate('admin/user')"></ph-topbar-item>
    }
    @if (this.view() == 'SL') {
        <ph-topbar-item [label]="'GENERAL'" [class.active]="tab() === 'GENERAL'" (click)="this.navigate('lsx/general')"></ph-topbar-item>
        <ph-topbar-item [label]="'DRONE'" [class.active]="tab() === 'DRONE'" (click)="this.navigate('lsx/drone')"></ph-topbar-item>
        <ph-topbar-item [label]="'EVENT'" [class.active]="tab() === 'EVENT'" (click)="this.navigate('lsx/event')"></ph-topbar-item>
    }
    @if (this.view() == 'TEC') {
        <ph-topbar-item [label]="'TECHNICAL'" [class.active]="tab() === 'TECHNICAL'" (click)="this.navigate('lsx/technical')"></ph-topbar-item>
    }
    @if (this.view() == 'CLOAK') {
        <ph-topbar-item [label]="'MATRIX'" [class.active]="tab() === 'MATRIX'" (click)="this.navigate('cloak/cluster')"></ph-topbar-item>
    }
    @if (this.view() == 'CLOAK') {
        <ph-topbar-item [label]="'PHASE'" [class.active]="tab() === 'PHASE'" (click)="this.navigate('cloak/power')"></ph-topbar-item>
    }
    <div style="flex-grow: 1;"> </div>
    <div class="logout" (click)="this.logout()">
        <img src="/images/logout.svg" alt="Logout">
    </div>
</ph-topbar>
<ph-sidebar [icon]="'/images/phoenix.svg'" style="grid-row: 1 / 3; grid-column: 1;">
    <ph-sidebar-item [class.active]="view() === 'TACOP'" (click)="this.navigate('maptool/map')"> TACOP </ph-sidebar-item>
    @if (this.authz.hasRole('admin')) { 
        <ph-sidebar-item [class.active]="view() === 'ADMIN'" (click)="this.navigate('admin/user')"> ADMIN </ph-sidebar-item>
    }
    @if (this.authz.hasRole('admin') || this.authz.hasRole('sl')) { 
        <ph-sidebar-item [class.active]="view() === 'SL'" (click)="this.navigate('lsx/general')"> SL </ph-sidebar-item>
    }
    @if (this.authz.hasRole('tec')) { 
        <ph-sidebar-item [class.active]="view() === 'TEC'" (click)="this.navigate('lsx/technical')"> TEC </ph-sidebar-item>
    }
    @if (this.authz.hasRole('admin')  || (this.authz.hasRole('sci'))) { 
        <ph-sidebar-item [class.active]="view() === 'CLOAK'" (click)="this.navigate('cloak/cluster')"> CLOAK </ph-sidebar-item>
    }
    @if (this.authz.hasRole('admin')  || (this.authz.hasRole('tec'))) { 
        <ph-sidebar-item [class.active]="view() === 'CLOAK'" (click)="this.navigate('cloak/power')"> CLOAK </ph-sidebar-item>
    }
</ph-sidebar>

<div class="content">
    <ng-content></ng-content>
</div>
